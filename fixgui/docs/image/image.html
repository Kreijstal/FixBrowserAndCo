<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>FixImage Documentation</title>
	<style>
		html { background: #eee; margin: 0; padding: 0; }
		body { font-family: Verdana, sans-serif; font-size: 14px; line-height: 150%; color: #000; }
		body { max-width: 1400px; margin: 0 auto; padding: 20px 20px; }
		body { background: #fff; box-shadow: -1px 0px 0px #ccc, 1px 0px 0px #ccc, 0px 1px 0px #ccc; }
		h1 { margin-top: 0; }
		dl, dt, dd { margin: 0; }
		dt { border: 1px solid #ccc; border-radius: 3px; margin: 5px 0; padding: 1px 6px; background: #eee; }
		dd { margin: 5px 0px 15px 30px; }
	</style>
</head>
<body>

<h1>FixImage Documentation</h1>

<p>
<a href="index.html">Back to summary</a>
</p>

<p>
<code>import "image/image";</code>
</p>

<h2>Image class</h2>

<p>
Contains the image data. For actual painting use the <a href="painter.html">Painter</a> class.
</p>

<p>
The pixels are stored in a shared array, you can access the same image from different threads.
</p>

<h3>Initialization</h3>

<dl>
	<dt><code>static function <b>create</b>(width: Integer, height: Integer): Image</code></dt>
	<dd>
		Creates a new image with given dimensions.
	</dd>
	<dt><code>static function <b>load</b>(data: Byte[]): Image</code></dt>
	<dd>
		Loads a PNG image from given byte array.
	</dd>
	<dt><code>function <b>clone</b>(): Image</code></dt>
	<dd>
		Returns a copy of this image.
	</dd>
	<dt><code>function <b>get_subimage</b>(x: Integer, y: Integer, width: Integer, height: Integer): Image</code></dt>
	<dd>
		Returns a rectangular view to this image (the pixels are shared).
	</dd>
	<dt><code>function <b>to_png</b>(): Byte[]</code></dt>
	<dd>
		Returns the image encoded in a PNG file format.
	</dd>
</dl>

<h3>Properties</h3>

<dl>
	<dt><code>function <b>get_width</b>(): Integer</code></dt>
	<dd>
		Returns width of the image.
	</dd>
	<dt><code>function <b>get_height</b>(): Integer</code></dt>
	<dd>
		Returns height of the image.
	</dd>
	<dt><code>function <b>get_stride</b>(): Integer</code></dt>
	<dd>
		Returns stride (increments between the rows in pixels array) of the image.
	</dd>
	<dt><code>function <b>get_pixels</b>(): Integer[]</code></dt>
	<dd>
		Returns shared array with raw pixels.
	</dd>
</dl>

<h3>Operations</h3>

<dl>
	<dt><code>function <b>downscale</b>(): Image<br>function <b>downscale</b>(steps: Integer): Image</code></dt>
	<dd>
		Returns downscaled version (halving the resolution) of the image. Optionally you can pass
		how many steps you want to apply.
	</dd>
	<dt><code>function <b>blur</b>(radius: Float)</code></dt>
	<dd>
		Applies fast Gaussian blur approximation. The performance is independent of the radius value.
	</dd>
	<dt><code>function <b>blur_box</b>(radius: Float)<br>function <b>blur_box</b>(rx: Float, ry: Float, steps: Integer)</code></dt>
	<dd>
		Applies box blur. The performance is independent of the radius value.
	</dd>
	<dt><code>function <b>blur_gaussian</b>(radius: Float)</code></dt>
	<dd>
		Applies more accurate Gaussian blur approximation. The performance is independent of the radius value.
	</dd>
	<dt><code>function <b>remap_color_ramps</b>(table: Byte[])</code></dt>
	<dd>
		Applies color remapping for each channel. The table must have either 256 entries
		(to apply the same to all color channels) or 768 entries (to apply to each color
		channel independently).
	</dd>
	<dt><code>function <b>apply_gamma</b>(value: Float)</code></dt>
	<dd>
		Applies gamma correction to the image.
	</dd>
</dl>

</body>
</html>
